{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate,Link}from'react-router-dom';import{authAPI}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=_ref=>{let{setUser}=_ref;const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[error,setError]=useState('');const[loading,setLoading]=useState(false);const navigate=useNavigate();// Style objects for reusability and cleaner JSX\nconst styles={container:{maxWidth:'400px',margin:'2rem auto',padding:'2rem',boxShadow:'0 2px 10px rgba(0, 0, 0, 0.1)',borderRadius:'8px',backgroundColor:'#fff'},title:{textAlign:'center',marginBottom:'2rem',color:'#333',fontSize:'1.5rem',fontWeight:'600'},inputGroup:{marginBottom:'1rem'},input:{width:'100%',padding:'0.75rem',fontSize:'1rem',border:'1px solid #ddd',borderRadius:'4px',outline:'none',transition:'border-color 0.3s ease',boxSizing:'border-box'},inputFocus:{borderColor:'#007bff'},button:{width:'100%',padding:'0.75rem',background:loading?'#6c757d':'#007bff',color:'white',border:'none',borderRadius:'4px',fontSize:'1rem',fontWeight:'500',cursor:loading?'not-allowed':'pointer',transition:'background-color 0.3s ease',opacity:loading?0.7:1},error:{color:'#dc3545',backgroundColor:'#f8d7da',border:'1px solid #f5c6cb',borderRadius:'4px',padding:'0.75rem',marginBottom:'1rem',fontSize:'0.875rem'},footer:{marginTop:'1.5rem',textAlign:'center',color:'#666',fontSize:'0.875rem'},link:{color:'#007bff',textDecoration:'none',fontWeight:'500'}};useEffect(()=>{const token=localStorage.getItem('token');if(token){navigate('/');}},[navigate]);const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError('');try{const response=await authAPI.login(email,password);localStorage.setItem('token',response.data.token);localStorage.setItem('email',response.data.email);setUser(response.data.email);navigate('/');}catch(error){var _error$response,_error$response$data;setError(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'Login failed');}finally{setLoading(false);}};const handleInputFocus=e=>{e.target.style.borderColor=styles.inputFocus.borderColor;};const handleInputBlur=e=>{e.target.style.borderColor=styles.input.border.split(' ')[2];// Reset to original\n};const handleButtonHover=e=>{if(!loading){e.target.style.backgroundColor='#0056b3';}};const handleButtonLeave=e=>{if(!loading){e.target.style.backgroundColor=styles.button.background;}};return/*#__PURE__*/_jsxs(\"div\",{style:styles.container,children:[/*#__PURE__*/_jsx(\"h2\",{style:styles.title,children:\"Login\"}),error&&/*#__PURE__*/_jsx(\"div\",{style:styles.error,children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.inputGroup,children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",value:email,onChange:e=>setEmail(e.target.value),onFocus:handleInputFocus,onBlur:handleInputBlur,required:true,disabled:loading,style:styles.input})}),/*#__PURE__*/_jsx(\"div\",{style:styles.inputGroup,children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",value:password,onChange:e=>setPassword(e.target.value),onFocus:handleInputFocus,onBlur:handleInputBlur,required:true,disabled:loading,style:styles.input})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,style:styles.button,onMouseEnter:handleButtonHover,onMouseLeave:handleButtonLeave,children:loading?'Logging in...':'Login'})]}),/*#__PURE__*/_jsxs(\"p\",{style:styles.footer,children:[\"Don't have an account?\",' ',/*#__PURE__*/_jsx(Link,{to:\"/register\",style:styles.link,onMouseEnter:e=>e.target.style.textDecoration='underline',onMouseLeave:e=>e.target.style.textDecoration='none',children:\"Register\"})]})]});};export default Login;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Link","authAPI","jsx","_jsx","jsxs","_jsxs","Login","_ref","setUser","email","setEmail","password","setPassword","error","setError","loading","setLoading","navigate","styles","container","maxWidth","margin","padding","boxShadow","borderRadius","backgroundColor","title","textAlign","marginBottom","color","fontSize","fontWeight","inputGroup","input","width","border","outline","transition","boxSizing","inputFocus","borderColor","button","background","cursor","opacity","footer","marginTop","link","textDecoration","token","localStorage","getItem","handleSubmit","e","preventDefault","response","login","setItem","data","_error$response","_error$response$data","handleInputFocus","target","style","handleInputBlur","split","handleButtonHover","handleButtonLeave","children","onSubmit","type","placeholder","value","onChange","onFocus","onBlur","required","disabled","onMouseEnter","onMouseLeave","to"],"sources":["C:/Users/vishnu/OneDrive/Learnthon 2024/blog/frontend/src/pages/Login.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport { authAPI } from '../services/api';\n\nconst Login = ({ setUser }) => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n\n  // Style objects for reusability and cleaner JSX\n  const styles = {\n    container: {\n      maxWidth: '400px',\n      margin: '2rem auto',\n      padding: '2rem',\n      boxShadow: '0 2px 10px rgba(0, 0, 0, 0.1)',\n      borderRadius: '8px',\n      backgroundColor: '#fff'\n    },\n    title: {\n      textAlign: 'center',\n      marginBottom: '2rem',\n      color: '#333',\n      fontSize: '1.5rem',\n      fontWeight: '600'\n    },\n    inputGroup: {\n      marginBottom: '1rem'\n    },\n    input: {\n      width: '100%',\n      padding: '0.75rem',\n      fontSize: '1rem',\n      border: '1px solid #ddd',\n      borderRadius: '4px',\n      outline: 'none',\n      transition: 'border-color 0.3s ease',\n      boxSizing: 'border-box'\n    },\n    inputFocus: {\n      borderColor: '#007bff'\n    },\n    button: {\n      width: '100%',\n      padding: '0.75rem',\n      background: loading ? '#6c757d' : '#007bff',\n      color: 'white',\n      border: 'none',\n      borderRadius: '4px',\n      fontSize: '1rem',\n      fontWeight: '500',\n      cursor: loading ? 'not-allowed' : 'pointer',\n      transition: 'background-color 0.3s ease',\n      opacity: loading ? 0.7 : 1\n    },\n    error: {\n      color: '#dc3545',\n      backgroundColor: '#f8d7da',\n      border: '1px solid #f5c6cb',\n      borderRadius: '4px',\n      padding: '0.75rem',\n      marginBottom: '1rem',\n      fontSize: '0.875rem'\n    },\n    footer: {\n      marginTop: '1.5rem',\n      textAlign: 'center',\n      color: '#666',\n      fontSize: '0.875rem'\n    },\n    link: {\n      color: '#007bff',\n      textDecoration: 'none',\n      fontWeight: '500'\n    }\n  };\n\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      navigate('/');\n    }\n  }, [navigate]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n    \n    try {\n      const response = await authAPI.login(email, password);\n      localStorage.setItem('token', response.data.token);\n      localStorage.setItem('email', response.data.email);\n      setUser(response.data.email);\n      navigate('/');\n    } catch (error) {\n      setError(error.response?.data?.error || 'Login failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleInputFocus = (e) => {\n    e.target.style.borderColor = styles.inputFocus.borderColor;\n  };\n\n  const handleInputBlur = (e) => {\n    e.target.style.borderColor = styles.input.border.split(' ')[2]; // Reset to original\n  };\n\n  const handleButtonHover = (e) => {\n    if (!loading) {\n      e.target.style.backgroundColor = '#0056b3';\n    }\n  };\n\n  const handleButtonLeave = (e) => {\n    if (!loading) {\n      e.target.style.backgroundColor = styles.button.background;\n    }\n  };\n\n  return (\n    <div style={styles.container}>\n      <h2 style={styles.title}>Login</h2>\n      \n      {error && (\n        <div style={styles.error}>\n          {error}\n        </div>\n      )}\n      \n      <form onSubmit={handleSubmit}>\n        <div style={styles.inputGroup}>\n          <input\n            type=\"email\"\n            placeholder=\"Email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            onFocus={handleInputFocus}\n            onBlur={handleInputBlur}\n            required\n            disabled={loading}\n            style={styles.input}\n          />\n        </div>\n        \n        <div style={styles.inputGroup}>\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            onFocus={handleInputFocus}\n            onBlur={handleInputBlur}\n            required\n            disabled={loading}\n            style={styles.input}\n          />\n        </div>\n        \n        <button \n          type=\"submit\" \n          disabled={loading}\n          style={styles.button}\n          onMouseEnter={handleButtonHover}\n          onMouseLeave={handleButtonLeave}\n        >\n          {loading ? 'Logging in...' : 'Login'}\n        </button>\n      </form>\n      \n      <p style={styles.footer}>\n        Don't have an account?{' '}\n        <Link \n          to=\"/register\" \n          style={styles.link}\n          onMouseEnter={(e) => e.target.style.textDecoration = 'underline'}\n          onMouseLeave={(e) => e.target.style.textDecoration = 'none'}\n        >\n          Register\n        </Link>\n      </p>\n    </div>\n  );\n};\n\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}