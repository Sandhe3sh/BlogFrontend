{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vishnu\\\\OneDrive\\\\Learnthon 2024\\\\blog\\\\frontend\\\\src\\\\pages\\\\BlogDetail.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, Link, useNavigate } from 'react-router-dom';\nimport { blogAPI } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BlogDetail = ({\n  user\n}) => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const [blog, setBlog] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n  useEffect(() => {\n    fetchBlog();\n  }, [id]);\n  const fetchBlog = async () => {\n    try {\n      const response = await blogAPI.getBlog(id);\n      setBlog(response.data);\n      setLoading(false);\n    } catch (error) {\n      setError('Blog not found');\n      setLoading(false);\n    }\n  };\n  const handleDelete = async () => {\n    if (window.confirm('Are you sure you want to delete this blog?')) {\n      try {\n        await blogAPI.deleteBlog(id);\n        navigate('/');\n      } catch (error) {\n        setError('Failed to delete blog');\n      }\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      textAlign: 'center',\n      padding: '2rem'\n    },\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      textAlign: 'center',\n      padding: '2rem',\n      color: 'red'\n    },\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 21\n  }, this);\n  if (!blog) return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      textAlign: 'center',\n      padding: '2rem'\n    },\n    children: \"Blog not found\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 21\n  }, this);\n  const isAuthor = user === blog.author.email;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: '800px',\n      margin: '2rem auto',\n      padding: '0 1rem'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"article\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: blog.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: '#666',\n          marginBottom: '1rem',\n          fontSize: '0.9rem'\n        },\n        children: [\"By \", blog.author.email, \" on \", blog.createdAt ? new Date(blog.createdAt).toLocaleDateString() : 'Unknown date', blog.updatedAt && blog.updatedAt !== blog.createdAt && /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\" (Updated: \", new Date(blog.updatedAt).toLocaleDateString(), \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          lineHeight: '1.6',\n          whiteSpace: 'pre-wrap'\n        },\n        children: blog.content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), isAuthor && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '2rem',\n          borderTop: '1px solid #ddd',\n          paddingTop: '1rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: `/edit/${blog.id}`,\n          style: {\n            padding: '0.5rem 1rem',\n            background: '#007bff',\n            color: 'white',\n            textDecoration: 'none',\n            marginRight: '1rem',\n            display: 'inline-block'\n          },\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleDelete,\n          style: {\n            padding: '0.5rem 1rem',\n            background: '#dc3545',\n            color: 'white',\n            border: 'none',\n            cursor: 'pointer'\n          },\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n_s(BlogDetail, \"YuDR2X1EPuX4voe3z6mNb0CLg3A=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = BlogDetail;\nexport default BlogDetail;\nvar _c;\n$RefreshReg$(_c, \"BlogDetail\");","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","useNavigate","blogAPI","jsxDEV","_jsxDEV","BlogDetail","user","_s","id","blog","setBlog","loading","setLoading","error","setError","navigate","fetchBlog","response","getBlog","data","handleDelete","window","confirm","deleteBlog","style","textAlign","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","color","isAuthor","author","email","maxWidth","margin","title","marginBottom","fontSize","createdAt","Date","toLocaleDateString","updatedAt","lineHeight","whiteSpace","content","marginTop","borderTop","paddingTop","to","background","textDecoration","marginRight","display","onClick","border","cursor","_c","$RefreshReg$"],"sources":["C:/Users/vishnu/OneDrive/Learnthon 2024/blog/frontend/src/pages/BlogDetail.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, Link, useNavigate } from 'react-router-dom';\nimport { blogAPI } from '../services/api';\n\nconst BlogDetail = ({ user }) => {\n  const { id } = useParams();\n  const [blog, setBlog] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    fetchBlog();\n  }, [id]);\n\n  const fetchBlog = async () => {\n    try {\n      const response = await blogAPI.getBlog(id);\n      setBlog(response.data);\n      setLoading(false);\n    } catch (error) {\n      setError('Blog not found');\n      setLoading(false);\n    }\n  };\n\n  const handleDelete = async () => {\n    if (window.confirm('Are you sure you want to delete this blog?')) {\n      try {\n        await blogAPI.deleteBlog(id);\n        navigate('/');\n      } catch (error) {\n        setError('Failed to delete blog');\n      }\n    }\n  };\n\n  if (loading) return <div style={{ textAlign: 'center', padding: '2rem' }}>Loading...</div>;\n  if (error) return <div style={{ textAlign: 'center', padding: '2rem', color: 'red' }}>{error}</div>;\n  if (!blog) return <div style={{ textAlign: 'center', padding: '2rem' }}>Blog not found</div>;\n\n  const isAuthor = user === blog.author.email;\n\n  return (\n    <div style={{ maxWidth: '800px', margin: '2rem auto', padding: '0 1rem' }}>\n      <article>\n        <h1>{blog.title}</h1>\n        <div style={{ color: '#666', marginBottom: '1rem', fontSize: '0.9rem' }}>\n          By {blog.author.email} on {blog.createdAt ? new Date(blog.createdAt).toLocaleDateString() : 'Unknown date'}\n          {blog.updatedAt && blog.updatedAt !== blog.createdAt && (\n            <span> (Updated: {new Date(blog.updatedAt).toLocaleDateString()})</span>\n          )}\n        </div>\n        <div style={{ lineHeight: '1.6', whiteSpace: 'pre-wrap' }}>\n          {blog.content}\n        </div>\n        \n        {isAuthor && (\n          <div style={{ marginTop: '2rem', borderTop: '1px solid #ddd', paddingTop: '1rem' }}>\n            <Link \n              to={`/edit/${blog.id}`}\n              style={{ \n                padding: '0.5rem 1rem', \n                background: '#007bff', \n                color: 'white', \n                textDecoration: 'none',\n                marginRight: '1rem',\n                display: 'inline-block'\n              }}\n            >\n              Edit\n            </Link>\n            <button \n              onClick={handleDelete}\n              style={{ \n                padding: '0.5rem 1rem', \n                background: '#dc3545', \n                color: 'white', \n                border: 'none',\n                cursor: 'pointer'\n              }}\n            >\n              Delete\n            </button>\n          </div>\n        )}\n      </article>\n    </div>\n  );\n};\n\nexport default BlogDetail;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}